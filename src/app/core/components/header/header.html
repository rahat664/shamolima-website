<header class="tx-navbar tx-header--solid">
  <div class="container">
    <div class="tx-navbar-inner">
      <!-- Brand -->
      <a routerLink="/" class="tx-nav-brand">
        <ng-container *ngIf="logo$ | async as logo; else dot">
          <img [src]="logo"
               [alt]="(site$|async)?.name || 'Logo'"
               class="h-16 w-auto site-logo"
               loading="eager"
               decoding="async"
               fetchpriority="high" />
        </ng-container>
        <ng-template #dot>
          <span class="inline-block h-10 w-10 rounded-full bg-brand"></span>
        </ng-template>
      </a>

      <!-- Links -->
      <nav class="tx-nav-links">
        <a routerLink="/" [routerLinkActiveOptions]="{exact:true}"
           routerLinkActive="tx-nav-link-active" class="tx-nav-link">Home</a>
        <div class="tx-nav-item">
          <a routerLink="/services" routerLinkActive="tx-nav-link-active" class="tx-nav-link" aria-haspopup="true" aria-expanded="false">Services</a>
          <div class="tx-submenu" *ngIf="serviceList$ | async as services" role="menu">
            <a *ngFor="let s of services" [routerLink]="['/services', s.slug]" class="tx-submenu__link" role="menuitem">
              {{ s.title }}
            </a>
          </div>
        </div>
        <a routerLink="/about" routerLinkActive="tx-nav-link-active" class="tx-nav-link">About</a>
        <a routerLink="/qhse" routerLinkActive="tx-nav-link-active" class="tx-nav-link">QHSE</a>
        <a routerLink="/contact" routerLinkActive="tx-nav-link-active" class="tx-nav-link">Contact</a>
        <a routerLink="/work-activities" routerLinkActive="tx-nav-link-active" class="tx-nav-link">Work Activities</a>
      </nav>

      <!-- Mobile Menu -->
      <div class="tx-mobile-menu-container">
        <button
          class="tx-burger"
          (click)="toggleMobileMenu()"
          [class.tx-burger--active]="mobileMenuOpen"
          aria-label="Toggle menu"
          [attr.aria-expanded]="mobileMenuOpen">
          <span class="tx-burger-line"></span>
          <span class="tx-burger-line"></span>
          <span class="tx-burger-line"></span>
        </button>

        <div class="tx-drawer" [class.tx-drawer--open]="mobileMenuOpen">
          <nav class="tx-drawer-nav">
            <a routerLink="/" (click)="closeMobileMenu()" routerLinkActive="tx-drawer-link--active" [routerLinkActiveOptions]="{exact:true}" class="tx-drawer-link">
              <span class="tx-drawer-link-icon">üè†</span>
              <span>Home</span>
            </a>
            <a routerLink="/services" (click)="closeMobileMenu()" routerLinkActive="tx-drawer-link--active" class="tx-drawer-link">
              <span class="tx-drawer-link-icon">‚öôÔ∏è</span>
              <span>Services</span>
            </a>
            <a routerLink="/about" (click)="closeMobileMenu()" routerLinkActive="tx-drawer-link--active" class="tx-drawer-link">
              <span class="tx-drawer-link-icon">‚ÑπÔ∏è</span>
              <span>About</span>
            </a>
            <a routerLink="/qhse" (click)="closeMobileMenu()" routerLinkActive="tx-drawer-link--active" class="tx-drawer-link">
              <span class="tx-drawer-link-icon">üõ°Ô∏è</span>
              <span>QHSE</span>
            </a>
            <a routerLink="/contact" (click)="closeMobileMenu()" routerLinkActive="tx-drawer-link--active" class="tx-drawer-link">
              <span class="tx-drawer-link-icon">üìû</span>
              <span>Contact</span>
            </a>
            <a routerLink="/work-activities" (click)="closeMobileMenu()" routerLinkActive="tx-drawer-link--active" class="tx-drawer-link">
              <span class="tx-drawer-link-icon">üì∏</span>
              <span>Work Activities</span>
            </a>
          </nav>
        </div>

        <!-- Backdrop -->
        <div
          class="tx-drawer-backdrop"
          [class.tx-drawer-backdrop--visible]="mobileMenuOpen"
          (click)="closeMobileMenu()">
        </div>
      </div>
    </div>
  </div>
</header>

<footer class="site-footer" @fadeIn *ngIf="ui$ | async as ui">
  <div class="container site-footer__top">
    <div class="site-footer__brand" appRevealOnScroll="up" [delay]="100" [threshold]="0.1">
      <div class="site-footer__logo">
        <ng-container *ngIf="darkLogo$ | async as logo; else logoDot">
          <img *ngIf="!logoBroken"
               [src]="logo"
               [alt]="(site$ | async)?.name || 'Logo'"
               loading="lazy"
               decoding="async"
               class="h-16 w-auto"
               (error)="logoBroken = true" />
          <ng-container *ngIf="logoBroken">
            <span class="site-footer__dot"></span>
          </ng-container>
        </ng-container>
        <ng-template #logoDot>
          <span class="site-footer__dot"></span>
        </ng-template>
      </div>
      <p class="site-footer__tag">
        {{ ui.footer.tagline }}
      </p>
      <div class="site-footer__certs" *ngIf="assets$ | async as a">
        <img *ngIf="a.imsBadge" [src]="a.imsBadge" alt="IMS" loading="lazy">
        <img *ngIf="a.opcaCertificate" [src]="a.opcaCertificate" alt="OPCA" loading="lazy">
      </div>
      <div class="site-footer__contact" *ngIf="contact$ | async as c">
        <a class="contact-chip" [href]="telHref(primaryPhone(c))">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 16.92V20a2 2 0 0 1-2.18 2A19.8 19.8 0 0 1 3 5.18 2 2 0 0 1 5 3h3.09a1 1 0 0 1 1 .75l.7 2.8a1 1 0 0 1-.27.99l-1.2 1.2a16 16 0 0 0 6.4 6.4l1.2-1.2a1 1 0 0 1 .99-.27l2.8.7a1 1 0 0 1 .75 1Z" stroke="currentColor" stroke-width="2"/></svg>
          {{ ui.footer.callUs }}
        </a>
        <a class="contact-chip" [href]="'mailto:' + primaryEmail(c)">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="2"/><path d="m3 7 9 6 9-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          {{ ui.footer.emailUs }}
        </a>
      </div>
    </div>

    <div class="site-footer__links">
      <div appRevealOnScroll="up" [delay]="200" [threshold]="0.1">
        <h3 class="site-footer__heading">{{ ui.footer.company }}</h3>
        <ul>
          <li><a routerLink="/about">{{ ui.nav.about }}</a></li>
          <li><a routerLink="/services">{{ ui.nav.services }}</a></li>
          <li><a routerLink="/qhse">{{ ui.nav.qhse }}</a></li>
        </ul>
      </div>
      <div appRevealOnScroll="up" [delay]="300" [threshold]="0.1">
        <h3 class="site-footer__heading">{{ ui.footer.support }}</h3>
        <ul>
          <li><a routerLink="/quote">{{ ui.footer.getQuote }}</a></li>
          <li><a routerLink="/contact">{{ ui.nav.contact }}</a></li>
        </ul>
      </div>
      <div appRevealOnScroll="up" [delay]="400" [threshold]="0.1">
        <h3 class="site-footer__heading">{{ ui.footer.services }}</h3>
        <ul *ngIf="serviceList$ | async as services">
          <li *ngFor="let s of services" ><a [routerLink]="['/services', s.slug]">{{s.title}}</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="container site-footer__offices" *ngIf="contact$ | async as c">
    <article class="office-card" *ngFor="let o of offices(c); let i = index" appRevealOnScroll="zoom" [delay]="i * 100" [threshold]="0.1">
      <h4 class="office-card__title">{{ o.title }}</h4>
      <div class="office-card__row">
        <span class="office-card__icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22s7-5.1 7-11a7 7 0 1 0-14 0c0 5.9 7 11 7 11Z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="11" r="3" stroke="currentColor" stroke-width="2"/></svg>
        </span>
        <p class="office-card__body">{{ o.data.address }}</p>
      </div>
      <div class="office-card__row">
        <span class="office-card__icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 16.92V20a2 2 0 0 1-2.18 2A19.8 19.8 0 0 1 3 5.18 2 2 0 0 1 5 3h3.09a1 1 0 0 1 1 .75l.7 2.8a1 1 0 0 1-.27.99l-1.2 1.2a16 16 0 0 0 6.4 6.4l1.2-1.2a1 1 0 0 1 .99-.27l2.8.7a1 1 0 0 1 .75 1Z" stroke="currentColor" stroke-width="2"/></svg>
        </span>
        <p class="office-card__body">
          <a *ngFor="let ph of o.data.phones; index as i"
             class="office-card__link"
             [href]="telHref(ph)">
            {{ ph }}<span *ngIf="i < o.data.phones.length - 1">, </span>
          </a>
        </p>
      </div>
      <div class="office-card__row">
        <span class="office-card__icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="2"/><path d="m3 7 9 6 9-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        </span>
        <p class="office-card__body">
          <a class="office-card__link" [href]="'mailto:' + o.data.email">{{ o.data.email }}</a>
        </p>
      </div>
    </article>
  </div>

  <div class="site-footer__bottom">
    <div class="container">
      <div class="site-footer__copyright" >
        <span>&copy; {{currentDate.getFullYear()}} Shamolima Limited</span>
        <span class="dot"></span>
        <span>{{ ui.footer.allRightsReserved }}</span>
      </div>
      <div class="site-footer__social" aria-label="Social links" >
        <a href="https://www.facebook.com/profile.php?id=61573835871319" target="_blank" class="social-btn" aria-label="Facebook" title="Facebook">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 21v-8h2.5l.5-3h-3V8.5c0-.9.3-1.5 1.6-1.5H16V4.2C15.7 4.1 14.8 4 13.8 4 11.7 4 10.3 5.2 10.3 7.3V10H8v3h2.3v8h3.2Z" fill="currentColor"/></svg>
        </a>
        <a href="https://www.linkedin.com/company/shamolima-limited" class="social-btn" aria-label="LinkedIn" title="LinkedIn" target="_blank">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.94 9.5V19H3.75V9.5h3.19ZM5.35 5a1.85 1.85 0 1 1 0 3.7 1.85 1.85 0 0 1 0-3.7Zm4.83 4.5H13.2v1.3c.45-.85 1.6-1.55 3.05-1.55 3.25 0 3.85 2.05 3.85 4.7V19h-3.2v-4.1c0-.98-.02-2.24-1.36-2.24-1.36 0-1.57 1.06-1.57 2.17V19h-3.18V9.5Z" fill="currentColor"/></svg>
        </a>
      </div>
    </div>
  </div>
</footer>
